<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        var ws_scheme = "";
        if (window.location.protocol == "https:") {
          ws_scheme = "wss://";
        } else {
          ws_scheme = "ws://"
        }
        var socket = io.connect(ws_scheme + document.domain + ':' + location.port);
        socket.on('join', function() {

        });
        socket.on('connect', function(){
            socket.emit('join', {sessionid: socket.id});
            console.log('connect event');
            console.log(socket.id);
        });
        socket.on('event', function(data){
            console.log(data);
        });
        socket.on('message', function(data){
            alert(data);
        });
        socket.on('disconnect', function(){
            console.log('disconnect event');
        });
        window.onload = function(){
            const elementoUsuario = document.getElementById('userid');
            const elementoMensagem = document.getElementById('message');
            elementoMensagem.addEventListener('keydown', (event) =>
            {
                const keycode = event.key;
                if(keycode == 'Enter')
                {
                    socket.emit('message', {usuario: elementoUsuario.value, message: event.target.value});
                    console.log(keycode);
                }
                console.log(keycode);
            }, false);
        };

    </script>
</head>
<body>
    <div>
        <img src="generate-qr-code">
        <input id="userid" type="text">
        <input id="message" type="text">
    </div>
</body>
</html>